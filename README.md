# java-where-to-go-with-friends
Template repository for Where To Go With Friends project.  
Where To Go With Friends — приложение-афиша, в котором можно предложить какое-либо событие от выставки до похода в кино и собрать компанию для участия в нём.
---

***Реализованы два сервиса:***
- основной сервис содержит всё необходимое для работы продукта;
- сервис статистики хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

***API основного сервиса разделен на три части:***
- публичная доступна без регистрации любому пользователю сети;
- закрытая доступна только авторизованным пользователям;
- административная — для администраторов сервиса.

### *Модель данных*
***Жизненный цикл события включает несколько этапов:***
- Создание.
- Ожидание публикации (В статус ожидания публикации событие переходит сразу после создания).
- Публикация (В это состояние событие переводит администратор).
- Отмена публикации (В это состояние событие переходит в двух случаях. Первый — если администратор решил, что его нельзя публиковать. Второй — когда инициатор события решил отменить его на этапе ожидания публикации).
- Сервис статистики (Собирает информацию. Во-первых, о количестве обращений пользователей к спискам событий и, во-вторых, о количестве запросов к подробной информации о событии. На основе этой информации формируется статистика о работе приложения).

---

---
## API основного сервиса
### Public: Подборки событий
###### Публичный API для работы с подборками событий

#### Получение подборок событий

`GET/compilations`
- в случае, если по заданным фильтрам не найдено ни одной подборки, возвращает пустой список

#### Получение подборки событий по его id
`GET/compilations/{compId}`

### Admin: Категории
###### API для работы с категориями

#### Добавление новой категории
`POST/admin/categories`

#### Удаление категории
`DELETE/admin/categories/{catId}`

#### Изменение категории
`PATCH/admin/categories/{catId}`

### Private: События
###### Закрытый API для работы с событиями

#### Получение событий, добавленных текущим пользователем
`GET/users/{userId}/events`

#### Добавление нового события
`POST/users/{userId}/events`

#### Получение полной информации о событии добавленном текущим пользователем
`GET/users/{userId}/events/{eventId}`

#### Изменение события добавленного текущим пользователем
`PATCH/users/{userId}/events/{eventId}`

#### Получение информации о запросах на участие в событии текущего пользователя
`GET/users/{userId}/events/{eventId}/requests`

#### Изменение статуса (подтверждена, отменена) заявок на участие в событии текущего пользователя
`PATCH/users/{userId}/events/{eventId}/requests`

### Public: Категории
###### Публичный API для работы с категориями

#### Получение категорий
`GET/categories`

#### Получение информации о категории по её идентификатору
`GET/categories/{catId}`

### Admin: События
###### API для работы с событиями

#### Поиск событий
`GET/admin/events`

#### Редактирование данных события и его статуса (отклонение/публикация).
`PATCH/admin/events/{eventId}`

### Public: События
###### Публичный API для работы с событиями

#### Получение событий с возможностью фильтрации
`GET/events`

#### Получение подробной информации об опубликованном событии по его идентификатору
`GET/events/{id}`

### Private: Запросы на участие
###### Закрытый API для работы с запросами текущего пользователя на участие в событиях

#### Получение информации о заявках текущего пользователя на участие в чужих событиях
`GET/users/{userId}/requests`

#### Добавление запроса от текущего пользователя на участие в событии
`POST/users/{userId}/requests`

#### Отмена своего запроса на участие в событии
`PATCH/users/{userId}/requests/{requestId}/cancel`

### Admin: Пользователи
###### API для работы с пользователями

#### Получение информации о пользователях
`GET/admin/users`

#### Добавление нового пользователя
`POST/admin/users`

#### Удаление пользователя
`DELETE/admin/users/{userId}`

### Admin: Подборки событий
###### API для работы с подборками событий

#### Добавление новой подборки (подборка может не содержать событий)
`POST/admin/compilations`

#### Удаление подборки
`DELETE/admin/compilations/{compId}`

#### Обновить информацию о подборке
`PATCH/admin/compilations/{compId}`

---

---

## API сервиса статистики
###### API для работы со статистикой посещений

#### Сохранение информации о том, что к эндпоинту был запрос
`POST/hit`

#### Получение статистики по посещениям.
`GET/stats`

---

---
